<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slot Online SPI703 - Live Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap');
        
        :root {
            --primary: #6d28d9;
            --secondary: #fbbf24;
            --dark: #1e1b4b;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, var(--dark), #312e81);
            color: white;
            min-height: 100vh;
        }
        
        .slot-container {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        }
        
        .reel {
            width: 100px;
            height: 100px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 50px;
            margin: 0 5px;
            border: 2px solid var(--primary);
            position: relative;
            overflow: hidden;
        }
        
        @keyframes spin {
            0% { transform: translateY(0); }
            100% { transform: translateY(-1000px); }
        }
        
        .spin-btn {
            background: linear-gradient(to right, var(--primary), #7c3aed);
            transition: all 0.3s;
        }
        
        .spin-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        .spin-btn:disabled {
            opacity: 0.6;
        }
        
        .win-animate {
            animation: pulse 0.5s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4">
    <div class="slot-container p-8 max-w-md w-full">
        <div class="flex justify-between items-center mb-6">
            <h1 class="text-2xl font-bold text-center text-yellow-300">SPI703 SLOT</h1>
            <div class="bg-indigo-900 px-4 py-2 rounded-lg">
                <span class="text-yellow-300">üí∞</span>
                <span id="balance">1000</span>
            </div>
        </div>
        
        <div class="flex justify-center mb-8">
            <div id="reel1" class="reel">üçí</div>
            <div id="reel2" class="reel">üçã</div>
            <div id="reel3" class="reel">üçä</div>
        </div>
        
        <div class="flex justify-between items-center mb-6">
            <div class="bg-indigo-900 px-4 py-2 rounded-lg">
                Bet: <span id="current-bet">10</span>
                <button id="bet-down" class="ml-2 px-2 bg-indigo-700 rounded">-</button>
                <button id="bet-up" class="ml-1 px-2 bg-indigo-700 rounded">+</button>
            </div>
        </div>
        
        <button id="spin-btn" class="spin-btn w-full py-3 rounded-lg font-bold text-lg">
            SPIN
        </button>
        
        <div id="result" class="text-center mt-4 h-6 text-yellow-300 font-bold"></div>
    </div>

    <script>
        // Game configuration
        const symbols = ['üçí', 'üçã', 'üçä', 'üçá', 'üîî', '‚≠ê', '7Ô∏è‚É£'];
        const paytable = {
            'üçí': { '3': 5, '2': 2 },
            'üçã': { '3': 4, '2': 1.5 },
            'üçä': { '3': 3, '2': 1 },
            'üçá': { '3': 2, '2': 0.5 },
            'üîî': { '3': 10, '2': 5 },
            '‚≠ê': { '3': 15, '2': 7 },
            '7Ô∏è‚É£': { '3': 20, '2': 10 }
        };
        
        // Game state
        let balance = 1000;
        let currentBet = 10;
        let spinning = false;
        
        // DOM elements
        const balanceDisplay = document.getElementById('balance');
        const currentBetDisplay = document.getElementById('current-bet');
        const spinBtn = document.getElementById('spin-btn');
        const betUp = document.getElementById('bet-up');
        const betDown = document.getElementById('bet-down');
        const reels = [document.getElementById('reel1'), document.getElementById('reel2'), document.getElementById('reel3')];
        const resultDisplay = document.getElementById('result');
        
        // Initialize the game
        function init() {
            updateUI();
            
            // Event listeners
            spinBtn.addEventListener('click', handleSpin);
            betUp.addEventListener('click', () => {
                currentBet = Math.min(currentBet + 10, 100);
                updateUI();
            });
            betDown.addEventListener('click', () => {
                currentBet = Math.max(currentBet - 10, 10);
                updateUI();
            });
        }
        
        // Update UI
        function updateUI() {
            balanceDisplay.textContent = balance;
            currentBetDisplay.textContent = currentBet;
            spinBtn.disabled = balance < currentBet || spinning;
        }
        
        // Handle spin
        function handleSpin() {
            if (spinning) return;
            
            spinning = true;
            balance -= currentBet;
            updateUI();
            
            resultDisplay.textContent = "";
            
            // Spin reels
            const spins = [];
            for (let i = 0; i < 3; i++) {
                spins.push(spinReel(reels[i]));
            }
            
            // After spinning, check result
            setTimeout(() => {
                Promise.all(spins).then((values) => {
                    spinning = false;
                    updateUI();
                    
                    // Check for win
                    checkResult(values);
                });
            }, 2000);
        }
        
        // Spin single reel
        function spinReel(reel) {
            return new Promise((resolve) => {
                reel.style.animation = 'spin 0.1s linear infinite';
                
                setTimeout(() => {
                    clearInterval(interval);
                    const randomSymbol = symbols[Math.floor(Math.random() * symbols.length)];
                    reel.textContent = randomSymbol;
                    reel.style.animation = '';
                    
                    resolve(randomSymbol);
                }, 2000);
            });
        }
        
        // Check result
        function checkResult(result) {
            const [r1, r2, r3] = result;
            let win = 0;
            
            // Check for all same
            if (r1 === r2 && r2 === r3) {
                win = currentBet * paytable[r1]['3'];
            } 
            // Check for any two same
            else if (r1 === r2 || r1 === r3 || r2 === r3) {
                const symbol = r1 === r2 ? r1 : r3;
                win = currentBet * paytable[symbol]['2'];
            }
            
            if (win > 0) {
                balance += win;
                updateUI();
                
                // Show win animation
                reels.forEach(reel => {
                    reel.classList.add('win-animate');
                    setTimeout(() => reel.classList.remove('win-animate'), 1500);
                });
                
                resultDisplay.textContent = `You win ${win}!`;
            } else {
                resultDisplay.textContent = "Try again!";
            }
            
            // Simulate online connection
            simulateOnlineUpdate();
        }
        
        // Simulate online connection - in a real app you'd use WebSockets
        function simulateOnlineUpdate() {
            // Fake jackpot update
            const jackpotUpdate = Math.floor(Math.random() * 500) + 100;
            setTimeout(() => {
                resultDisplay.textContent = `Jackpot increased by ${jackpotUpdate}!`;
            }, 3000);
            
            // Fake recent winners
            setTimeout(() => {
                const fakeNames = ['Player1', 'Lucky777', 'Winner123', 'JackpotKing'];
                const randomName = fakeNames[Math.floor(Math.random() * fakeNames.length)];
                const fakeWin = Math.floor(Math.random() * 1000) + 200;
                resultDisplay.textContent = `${randomName} just won ${fakeWin}!`;
            }, 5000);
        }
        
        // Initialize
        init();
    </script>
</body>
</html>
